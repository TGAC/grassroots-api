<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>iRODS_C_API: rcPhyBundleColl</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">iRODS_C_API
   &#160;<span id="projectnumber">3.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="rc_phy_bundle_coll_8c.html">rcPhyBundleColl.c</a>      </li>
    </ul>
  </div>
</div>
<div class="contents">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindexHL" href="rc_phy_bundle_coll_8c_a9f835dba40fb65bc30af5235b3186134.html#a9f835dba40fb65bc30af5235b3186134">rcPhyBundleColl</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top" class="mempage">
<a class="anchor" id="a9f835dba40fb65bc30af5235b3186134"></a><!-- doxytag: member="rcPhyBundleColl.c::rcPhyBundleColl" ref="a9f835dba40fb65bc30af5235b3186134" args="(rcComm_t *conn, structFileExtAndRegInp_t *phyBundleCollInp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="rc_phy_bundle_coll_8c_a9f835dba40fb65bc30af5235b3186134.html#a9f835dba40fb65bc30af5235b3186134">rcPhyBundleColl</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrc_comm__t.html">rcComm_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_file_ext_and_reg_8h_aa142098358ce525079ff3879d9140d4e.html#aa142098358ce525079ff3879d9140d4e">structFileExtAndRegInp_t</a> *&#160;</td>
          <td class="paramname"><em>phyBundleCollInp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="user"><dt><b>Description:</b></dt><dd>Physically bundle files in a collection into a number of tar files to make it more efficient to store these files on tape. The tar files are placed into the /myZone/bundle/.... collection with file names - collection.aRandomNumber. A new tar file will be created whenever the number of subfiles exceeds 512 or the total size of the subfiles exceeds 4 GBytes. A replica is registered for each bundled sub-files with a fictitious resource - 'bundleResc' and a physical file path pointing to the logical path of the tar bundle file. Whenever this copy of the subfile is accessed, the tar file is untarred and staged automatically to the 'cache' resource. Each extracted file is registered as a replica of its corresponding subfiles. This API is normally used by sysadmin to bundle other users' files.</dd></dl>
<dl class="user"><dt><b>Primary User:</b></dt><dd>client</dd></dl>
<dl class="user"><dt><b>Category:</b></dt><dd>collection operations</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Mike Wan </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2007</dd></dl>
<dl class="remark"><dt><b>Remarks:</b></dt><dd>none</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Example Usage:</b></dt><dd></dd></dl>
<p>Phybun a collection /myZone/home/john/coll1 and put the bundle files in myRescource: <br/>
 int status; <br/>
 structFileExtAndRegInp_t phyBundleCollInp; <br/>
 bzero (&amp;phyBundleCollInp, sizeof (phyBundleCollInp)); <br/>
 rstrcpy (collCreateInp.collName, "/myZone/home/john/coll1", MAX_NAME_LEN); <br/>
 addKeyVal (&amp;phyBundleCollInp.condInput, DEST_RESC_NAME_KW, "myRescource"); <br/>
 addKeyVal (&amp;phyBundleCollInp.condInput, RESC_NAME_KW, "myRescource"); <br/>
 status = rcPhyBundleColl (conn, &amp;collCreateInp); <br/>
 if (status &lt; 0) { <br/>
 .... handle the error <br/>
 }</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn</td><td>- A <a class="el" href="structrc_comm__t.html">rcComm_t</a> connection handle to the server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">phyBundleCollInp</td><td>- Elements of structFileExtAndRegInp_t used : <ul>
<li>char <b>collection</b>[MAX_NAME_LEN] - full path of the collection. </li>
<li>keyValPair_t <b>condInput</b> - keyword/value pair input. Valid keywords: <br/>
 DEST_RESC_NAME_KW - The resource to store the new bundle file. <br/>
 RESC_NAME_KW - The copy stored in this resource to be used as source. This must be the same as the resource specified with the DEST_RESC_NAME_KW to make sure a copy in this resource is available for bundling. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>integer </dd></dl>
<dl class="retval"><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success </td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Side Effect:</b></dt><dd>none </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>none </dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>none </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>none </dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000066">Bug:</a></b></dt><dd>no known bugs </dd></dl>

<p>Definition at line <a class="el" href="rc_phy_bundle_coll_8c_source.html#l00074">74</a> of file <a class="el" href="rc_phy_bundle_coll_8c_source.html">rcPhyBundleColl.c</a>.</p>

</div>
</div>
    </td>
  </tr>
</table>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 14 2014 14:22:33 for iRODS_C_API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
